
function removeFromCart(prodid){
    document.getElementById(prodid).style = 'white';
    document.getElementById(prodid).classList.add('unselected');
    document.getElementById(prodid).classList.remove('selected');
    sendUnSelected(prodid);
    document.getElementById(prodid).setAttribute("onclick", `addtocart(${prodid})`)
}
function addtocart(prodid){
    let cartbadge = document.getElementById('cartbadge');
    if(document.getElementById(prodid).classList == '') {
        document.getElementById(prodid).style = 'background:#D3D3D3';
        document.getElementById(prodid).classList.add('selected');
        document.getElementById('checkoutbtn').style = 'visibility:show;float:right;color:white';
        document.getElementById(prodid).setAttribute("onclick", `removeFromCart(${prodid})`)
        sendSelected(prodid);
    }

if(document.getElementById(prodid).classList.contains('unselected')){
    document.getElementById(prodid).style = 'background:#D3D3D3';
    document.getElementById(prodid).classList.add('selected');
    document.getElementById(prodid).classList.remove('unselected');
    document.getElementById('checkoutbtn').style = 'visibility:show;float:right;color:white';
    document.getElementById(prodid).setAttribute("onclick", `removeFromCart(${prodid})`)
    sendSelected(prodid);
    }
    return
}

//sending data via ajax
function sendSelected(prodid){
    $.ajax({
        url: "",
        type: "POST",
         headers: {
            "X-CSRFToken" : $("input[name=csrfmiddlewaretoken]").val()
        },
        data: {
            'prodid': prodid,
            'type': 'selected',

        },
        success: function(result){
            response = JSON.parse(result);
            if(response.value){
                if(response.value == true){

                  console.log('added to selected')


                }
            }
            else{
                console.log('Server error');
            }
        },
        error: function(result){
            console.log(result);
        }
    })
}
//sending data via ajax
function sendUnSelected(prodid){
    $.ajax({
        url: "",
        type: "POST",
         headers: {
            "X-CSRFToken" : $("input[name=csrfmiddlewaretoken]").val()
        },
        data: {
            'prodid': prodid,
            'type': 'unselected',

        },
        success: function(result){
            response = JSON.parse(result);
            console.log(response);
            if(response.value){
                if(response.value == true){

                  console.log('added to selected')


                }
            }
            if(response.value == ''){
                console.log('Server error');
                document.getElementById('checkoutbtn').style = 'visibility:hidden;float:right;color:white';
            }
        },
        error: function(result){
            console.log(result);
        }
    })
}
