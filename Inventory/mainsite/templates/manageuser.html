{% extends 'base.html' %}
{% load static %}

{% block head %}
<script src="{% static 'js/manageuser.js'%}"></script>
{% endblock head %}
{% block title %}
Manage Users
{% endblock title %}

{% block body %}
<div class="content-wrapper" style="min-height: 699px;">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Manage
        <small>Users</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Users</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <!-- Small boxes (Stat box) -->
      <div class="row">
        <div class="col-md-12 col-xs-12">


                      <a href="{% url 'mainsite:adduser' %}" class="btn btn-primary">Add User</a>
            <br> <br>


          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Manage Users</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <div id="userTable_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"><div class="row"><div class="col-sm-6"><div class="dataTables_length" id="userTable_length"><label>Show <select name="userTable_length" aria-controls="userTable" class="form-control input-sm" onchange="changeTermEntry(this);"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-6"><div id="userTable_filter" class="dataTables_filter"><label>Search:<input type="search" id="searchInp" class="form-control input-sm" placeholder="" aria-controls="userTable"></label></div></div></div><div class="row"><div class="col-sm-12"><table id="userTable" class="table table-bordered table-striped dataTable no-footer" role="grid" aria-describedby="userTable_info">
                <thead>
                <tr role="row"><th  class="sorting_asc" onclick="reverse_cols();" tabindex="0" aria-controls="userTable" rowspan="1" colspan="1" style="width: 302.844px;" aria-sort="ascending" aria-label="Username: activate to sort column descending">Username</th><th onclick="reverse_cols();" class="sorting" tabindex="0" aria-controls="userTable" rowspan="1" colspan="1" style="width: 209.047px;" aria-label="Email: activate to sort column ascending">Email</th><th onclick="reverse_cols();" class="sorting" tabindex="0" aria-controls="userTable" rowspan="1" colspan="1" style="width: 212.5px;" aria-label="Name: activate to sort column ascending">Name</th><th onclick="reverse_cols();" class="sorting" tabindex="0" aria-controls="userTable" rowspan="1" colspan="1" style="width: 223.984px;" aria-label="Phone: activate to sort column ascending">Phone</th><th onclick="reverse_cols();" class="sorting" tabindex="0" aria-controls="userTable" rowspan="1" colspan="1" style="width: 219.734px;" aria-label="Group: activate to sort column ascending">Group</th><th onclick="reverse_cols();" class="sorting" tabindex="0" aria-controls="userTable" rowspan="1" colspan="1" style="width: 221.891px;" aria-label="Action: activate to sort column ascending">Action</th></tr>
                </thead>
                  {% if allusers %}
                <tbody>
                {% for user in allusers %}
                    <tr role="row" class="odd" style="display:none;">
                        <td class="sorting_1">{{user.username}}</td>
                        <td>{{user.email}}</td>
                        <td>{{user.firstname}} {{user.lastname}}</td>
                        <td>{{user.phone}}</td>
                        <td>{{user.user_group}}</td>
                        <td>
                            <a href="http://localhost:8888/stock/users/edit/6" class="btn btn-default">
                                <i class="fa fa-edit"></i>
                            </a>
                            <a href="http://localhost:8888/stock/users/delete/6" class="btn btn-default">
                                <i class="fa fa-trash"></i>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
                {% else %}
                <tr class="odd">
                        <td valign="top" colspan="6" class="dataTables_empty">No data available in table</td>
                    </tr>
                {% endif %}
                </tbody>
              </table></div></div><div class="row"><div class="col-sm-5"><div class="dataTables_info" id="userTable_info" role="status" aria-live="polite">Showing 0 to <p id="termnentry">10</p> of {{totalentries}} entries</div></div><div class="col-sm-7"><div class="dataTables_paginate paging_simple_numbers" id="userTable_paginate"><ul class="pagination"><li class="paginate_button previous disabled" id="userTable_previous"><a href="#" aria-controls="userTable" data-dt-idx="0" tabindex="0">Previous</a></li><li class="paginate_button next disabled" id="userTable_next"><a href="#" aria-controls="userTable" data-dt-idx="1" tabindex="0">Next</a></li></ul></div></div></div></div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
        <!-- col-md-12 -->
      </div>
      <!-- /.row -->


    </section>
    <!-- /.content -->
  </div>
<script type="text/javascript">
    $(document).ready(function() {
      $('#userTable').DataTable();

      $("#mainUserNav").addClass('active');
      $("#manageUserNav").addClass('active');
    });
  </script>
{% endblock body %}